
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Portal2 is the newest version of the JPortal SI-file based generator.">
      
      
      
      
        <link rel="prev" href="../generating-postgres-ddl/">
      
      
        <link rel="next" href="../adding-an-additional-table/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.16">
    
    
      
        <title>Generating Python code - JPortal2</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64H64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64 32-32z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm-40-176h24v-64h-24c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-80c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M480 32c0-12.9-7.8-24.6-19.8-29.6S434.5.2 425.3 9.3L381.7 53c-48 48-113.1 75-181 75H64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64v128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352h8.7c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7v262.6C357.2 317.8 280.5 288 200.7 288H192v-96h8.7c79.8 0 156.5-29.8 215.3-83.3z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm-86.2-346.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1 0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6-13.3 0-24-10.7-24-24v-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1 0-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1-64 0z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0-64 0 32 32 0 1 0 64 0z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.1 52.4 442.6 6.5c-1.9-3.9-6.1-6.5-10.5-6.5s-8.5 2.6-10.4 6.5l-16.5 45.9-46 16.8c-4.3 1.6-7.3 5.9-7.2 10.4 0 4.5 3 8.7 7.2 10.2l45.7 16.8 16.8 45.8c1.5 4.4 5.8 7.5 10.4 7.5s8.9-3.1 10.4-7.5l16.5-45.8 45.7-16.8c4.2-1.5 7.2-5.7 7.2-10.2 0-4.6-3-8.9-7.2-10.4l-45.6-16.8zm-132.4 53c-12.5-12.5-32.8-12.5-45.3 0l-2.9 2.9c-22-8-45.8-12.3-70.5-12.3C93.1 96 0 189.1 0 304s93.1 208 208 208 208-93.1 208-208c0-24.7-4.3-48.5-12.2-70.5l2.9-2.9c12.5-12.5 12.5-32.8 0-45.3l-80-80zM200 192c-57.4 0-104 46.6-104 104v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-75.1 60.9-136 136-136h8c8.8 0 16 7.2 16 16s-7.2 16-16 16h-8z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 398.9c58.5-41.1 96-104.1 96-174.9C512 100.3 397.4 0 256 0S0 100.3 0 224c0 70.7 37.5 133.8 96 174.9V464c0 26.5 21.5 48 48 48h48v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h64v-48c0-8.8 7.2-16 16-16s16 7.2 16 16v48h48c26.5 0 48-21.5 48-48v-65.1zM96 256a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm256-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M320 0c17.7 0 32 14.3 32 32v64h120c39.8 0 72 32.2 72 72v272c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72h120V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16h-32zM264 256a40 40 0 1 0-80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224h16v192H48c-26.5 0-48-21.5-48-48v-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48h-16V224h16z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M288 0H128c-17.7 0-32 14.3-32 32s14.3 32 32 32v132.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6 0 480.9 31.1 512 69.4 512h309.2c38.3 0 69.4-31.1 69.4-69.4 0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7 0 32-14.3 32-32S337.7 0 320 0h-32zm-96 196.8V64h64v132.8c0 23.7 6.6 46.9 19 67.1l34.5 56.1h-171l34.5-56.1c12.4-20.2 19-43.4 19-67.1z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216z"/></svg>');}</style>


    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#generate-and-use-python-code" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="JPortal2" class="md-header__button md-logo" aria-label="JPortal2" data-md-component="logo">
      
  <img src="../../img/vanguard-logo-whiteonly.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JPortal2
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Generating Python code
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SI-Gen/jportal2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    SI-Gen/jportal2
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JPortal2" class="md-nav__button md-logo" aria-label="JPortal2" data-md-component="logo">
      
  <img src="../../img/vanguard-logo-whiteonly.svg" alt="logo">

    </a>
    JPortal2
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SI-Gen/jportal2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    SI-Gen/jportal2
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Overview/installing-jportal2/" class="md-nav__link">
        Installing JPortal2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Overview/installing-vscode-jportal2-extension/" class="md-nav__link">
        Installing the JPortal2 VSCode extension
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started - installing prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setting-up-the-project-directory-and-sqltools-extension/" class="md-nav__link">
        Setting up our project directory & installing the SQLTools extension
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../creating-our-first-table-definition/" class="md-nav__link">
        Creating our first table definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generating-postgres-ddl/" class="md-nav__link">
        Generating PostgreSQL DDL
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Generating Python code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Generating Python code
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generate-python-code" class="md-nav__link">
    Generate Python code
  </a>
  
    <nav class="md-nav" aria-label="Generate Python code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-generated-python-code" class="md-nav__link">
    The generated python code
  </a>
  
    <nav class="md-nav" aria-label="The generated python code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-returning" class="md-nav__link">
    Insert Returning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interact-with-our-database-using-python" class="md-nav__link">
    Interact with our database using Python
  </a>
  
    <nav class="md-nav" aria-label="Interact with our database using Python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selectall" class="md-nav__link">
    SelectAll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-returning_1" class="md-nav__link">
    Insert Returning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selectone-and-update" class="md-nav__link">
    SelectOne and Update
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-an-additional-table/" class="md-nav__link">
        Adding an additional table and foreign keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../additional-built-in-queries/" class="md-nav__link">
        Additional Built-In Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom-queries/" class="md-nav__link">
        Custom Queries and Advanced functionality
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../summary/" class="md-nav__link">
        Summary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Quickstarts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Quickstarts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Quickstarts/Quickstart%20with%20Postgres/" class="md-nav__link">
        Quickstart with PostgreSQL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          How-to guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How-to guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/retrieving-rows/" class="md-nav__link">
        Retrieving rows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/inserting-rows/" class="md-nav__link">
        Inserting rows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/updating-rows/" class="md-nav__link">
        Updating rows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/deleting-rows/" class="md-nav__link">
        Deleting rows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/counting-rows/" class="md-nav__link">
        Counting rows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/checking-if-rows-exist/" class="md-nav__link">
        Checking if a record exists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/custom-procs/" class="md-nav__link">
        Custom procs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/dynamic-sql/" class="md-nav__link">
        Dynamic SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/using-enums/" class="md-nav__link">
        Using enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/using-literals/" class="md-nav__link">
        Using literals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/using-keys-indexes-and-foreign-keys/" class="md-nav__link">
        Using keys, indexes and foreign keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Howto/using-grants/" class="md-nav__link">
        Using Grants
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Reference/column-types/" class="md-nav__link">
        Column types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Reference/cli/" class="md-nav__link">
        Command-Line Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Reference/configuration-file/" class="md-nav__link">
        Configuration file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Reference/Freemarker%20template/" class="md-nav__link">
        Freemarker template
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        F.A.Q.
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="generate-and-use-python-code">Generate and use Python code<a class="headerlink" href="#generate-and-use-python-code" title="Permanent link">&para;</a></h1>
<h2 id="generate-python-code">Generate Python code<a class="headerlink" href="#generate-python-code" title="Permanent link">&para;</a></h2>
<p>To generate Python code, we will make use of a JPortal <em>template-generator</em> named the <code>jportal2-generator-vanguard-sqlalchemy</code> template.</p>
<p>Generators, specifically template generators, are a topic all on their own. You can read more about generators (including the difference between built-in and template generators) in &lt; TODO &gt;, but for now, just continue reading below, and follow the instructions. </p>
<p>Type the following command:
<div class="highlight"><span class="filename">generate_jportal.sh</span><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">SCRIPT_DIR</span><span class="si">}</span>:/local<span class="w"> </span>ghcr.io/si-gen/jportal2:latest<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--inputdir<span class="o">=</span>/local/sql/si<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--builtin-generator<span class="w"> </span>PostgresDDL:/local/generated_sources/generated_sql<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--template-generator<span class="w"> </span>SQLAlchemy:/local/generated_sources/python/jportal<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>--download-template<span class="w"> </span><span class="s2">&quot;SQLAlchemy:https://github.com/SI-Gen/jportal2-generator-vanguard-sqlalchemy/archive/refs/tags/1.8.zip|stripBaseDir&quot;</span><span class="w">                      </span>
</code></pre></div></p>
<p>You will notice that the command line looks very similar to the previous one we ran, to generate Postgres DDL, but it 
has 2 additional lines.  </p>
<p><strong>Line 4</strong> is very similar to line 3. It tells JPortal you want to run the template-generator named SQLAlchemy, and 
place the generated output files in the directory <code>generated_sources/python/sqlalchemy</code>. The general format of the 
command is <code>--template-generator &lt;GENERATOR_NAME&gt;:&lt;GENERATED_CODE_DESTINATION</code>.  <br />
<strong>line 5</strong> is a little different. It tells JPortal where to find and download the SQLAlchemy generator we refer to in 
line 4, from. <em>For more information about using downloading template generators, and how and why you would want to do that, see &lt; TODO &gt;</em></p>
<p>Now, navigate to the directory <code>generated_sources/python/jportal/sqlalchemy</code>. You should see a freshly generated file there, named <code>db_ToDoList.py</code>. This is the file that was generated by the SQLAlchemy generator. Let's have a look at the contents of the file:</p>
<h3 id="the-generated-python-code">The generated python code<a class="headerlink" href="#the-generated-python-code" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">db_ToDoList.py</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">########################################################################################################################</span>
<span class="c1">################## Generated Code. DO NOT CHANGE THIS CODE. Change it in the generator and regenerate ##################</span>
<span class="c1">########################################################################################################################</span>

<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span> <span class="nn">enum</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.sql.expression</span> <span class="kn">import</span> <span class="n">TextAsFrom</span>

<span class="kn">from</span> <span class="nn">.common.db_common</span> <span class="kn">import</span> <span class="n">DBMixin</span><span class="p">,</span> <span class="n">Base</span><span class="p">,</span> <span class="n">DBColumn</span>
<span class="kn">from</span> <span class="nn">.common</span> <span class="kn">import</span> <span class="n">db_types</span>
<span class="kn">from</span> <span class="nn">.common.processing</span> <span class="kn">import</span> <span class="n">process_result_recs</span><span class="p">,</span> <span class="n">process_result_rec</span><span class="p">,</span> <span class="n">process_bind_params</span>




<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListInsertReturning</span><span class="p">:</span>
    <span class="c1"># Enum for ListType field</span>
    <span class="k">class</span> <span class="nc">ListTypeEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">Private</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Public</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">process_result_value_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


    <span class="c1">#Outputs</span>
    <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                      <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot; RETURNING ID&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/* PROC ToDoList_App.ToDoList.Insert */&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;insert into ToDoList_App.ToDoList (&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ID,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListName,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListType,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  Description,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; ) &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; values (&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">sequence</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :ListName,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :ListType,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :Description,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; )&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">tail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                           <span class="p">)</span>
        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">text_statement</span><span class="o">.</span><span class="n">bindparams</span><span class="p">(</span><span class="n">ListName</span><span class="o">=</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">=</span><span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="o">=</span><span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="o">=</span><span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;DB_ToDoListInsertReturning&#39;</span><span class="p">]:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">process_bind_params</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SmallInteger</span><span class="p">,</span>
                                               <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                               <span class="p">],</span> <span class="p">[</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ListType</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">)</span> <span class="k">else</span> <span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">))</span>
        <span class="n">rec</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rec</span><span class="p">:</span>
            <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">process_result_rec</span><span class="p">(</span><span class="n">DB_ToDoListInsertReturning</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                                                            <span class="p">],</span> <span class="n">rec</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListUpdate</span><span class="p">:</span>
    <span class="c1"># Enum for ListType field</span>
    <span class="k">class</span> <span class="nc">ListTypeEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">Private</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Public</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">process_result_value_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DB_ToDoListUpdate</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>




    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                      <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                      <span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;update ToDoList_App.ToDoList&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; set&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListName = :ListName&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, ListType = :ListType&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, Description = :Description&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, LastUpdated = :LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; where ID = :ID&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">text_statement</span><span class="o">.</span><span class="n">bindparams</span><span class="p">(</span><span class="n">ListName</span><span class="o">=</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">=</span><span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="o">=</span><span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="o">=</span><span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="n">ID</span><span class="o">=</span><span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                <span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">process_bind_params</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SmallInteger</span><span class="p">,</span>
                                               <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                               <span class="p">],</span> <span class="p">[</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ListType</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">)</span> <span class="k">else</span> <span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">))</span>
        <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListSelectOne</span><span class="p">:</span>
    <span class="c1"># Enum for ListType field</span>
    <span class="k">class</span> <span class="nc">ListTypeEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">Private</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Public</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">process_result_value_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DB_ToDoListSelectOne</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


    <span class="c1">#Outputs</span>
    <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
    <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot; OUTPUT (ListName,ListType,Description,LastUpdated)&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot; RETURNING ListName ListType Description LastUpdated&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/* PROC ToDoList_App.ToDoList.SelectOne */&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;select&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListName&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, ListType&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, Description&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; from ToDoList_App.ToDoList&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; where ID = :ID&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="n">ListName</span><span class="o">=</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                           <span class="n">ListType</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SmallInteger</span><span class="p">,</span>
                                           <span class="n">Description</span><span class="o">=</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                           <span class="n">LastUpdated</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                           <span class="p">)</span>
        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">text_statement</span><span class="o">.</span><span class="n">bindparams</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;DB_ToDoListSelectOne&#39;</span><span class="p">]:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">process_bind_params</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                               <span class="p">],</span> <span class="p">[</span><span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">))</span>
        <span class="n">rec</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rec</span><span class="p">:</span>
            <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">process_result_rec</span><span class="p">(</span><span class="n">DB_ToDoListSelectOne</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                                                      <span class="n">DB_ToDoListSelectOne</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">,</span>
                                                                      <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                                                      <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                                                      <span class="p">],</span> <span class="n">rec</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListDeleteOne</span><span class="p">:</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/* PROC ToDoList_App.ToDoList.DeleteOne */&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;delete from ToDoList_App.ToDoList&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; where ID = :ID&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">text_statement</span><span class="o">.</span><span class="n">bindparams</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">process_bind_params</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                               <span class="p">],</span> <span class="p">[</span><span class="n">ID</span><span class="p">,</span>
                                                   <span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">))</span>
        <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListSelectAll</span><span class="p">:</span>
    <span class="c1"># Enum for ListType field</span>
    <span class="k">class</span> <span class="nc">ListTypeEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">Private</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Public</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">process_result_value_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DB_ToDoListSelectAll</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


    <span class="c1">#Outputs</span>
    <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
    <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot; OUTPUT (ID,ListName,ListType,Description,LastUpdated)&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot; RETURNING ID ListName ListType Description LastUpdated&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/* PROC ToDoList_App.ToDoList.SelectAll */&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;select&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ID&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, ListName&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, ListType&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, Description&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; from ToDoList_App.ToDoList&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                           <span class="n">ListName</span><span class="o">=</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                           <span class="n">ListType</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SmallInteger</span><span class="p">,</span>
                                           <span class="n">Description</span><span class="o">=</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                           <span class="n">LastUpdated</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                           <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;DB_ToDoListSelectAll&#39;</span><span class="p">]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">())</span>
        <span class="n">recs</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">process_result_recs</span><span class="p">(</span><span class="n">DB_ToDoListSelectAll</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                                                   <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                                                   <span class="n">DB_ToDoListSelectAll</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">,</span>
                                                                   <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                                                   <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                                                   <span class="p">],</span> <span class="n">recs</span><span class="p">)</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListStaticData</span><span class="p">:</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;INSERT INTO ToDoList_App.ToDoList(ListName,ListType,Description,LastUpdated) VALUES (&#39;Takeon Test List 1&#39;, 1, &#39;Take on test list description&#39;, CURRENT_DATE );&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">())</span>
        <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<strong>Line 1-16</strong> basically just sets up a bunch of imports required. Nothing fancy here.<br />
<strong>Line 20-75</strong> is a bit more interesting. Let's have a look.</p>
<h4 id="insert-returning">Insert Returning<a class="headerlink" href="#insert-returning" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DB_ToDoListInsertReturning</span><span class="p">:</span>
    <span class="c1"># Enum for ListType field</span>
    <span class="k">class</span> <span class="nc">ListTypeEnum</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">Private</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">Public</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">process_result_value_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dialect</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


    <span class="c1">#Outputs</span>
    <span class="n">ID</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_statement</span><span class="p">(</span><span class="bp">cls</span>
                      <span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                      <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                      <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                      <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TextAsFrom</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_ret</span><span class="p">:</span>
            <span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;default,&quot;</span> <span class="c1">#postgres uses default for sequences</span>
            <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="s2">&quot; RETURNING ID&quot;</span>
            <span class="c1">#session.bind.dialect.name</span>

        <span class="n">statement</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/* PROC ToDoList_App.ToDoList.Insert */&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;insert into ToDoList_App.ToDoList (&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ID,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListName,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  ListType,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  Description,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; ) &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; values (&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">sequence</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :ListName,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :ListType,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :Description,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  :LastUpdated&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; )&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">_ret</span><span class="o">.</span><span class="n">tail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                           <span class="p">)</span>
        <span class="n">text_statement</span> <span class="o">=</span> <span class="n">text_statement</span><span class="o">.</span><span class="n">bindparams</span><span class="p">(</span><span class="n">ListName</span><span class="o">=</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">=</span><span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="o">=</span><span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="o">=</span><span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">text_statement</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span> <span class="n">ListName</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">ListType</span><span class="p">:</span> <span class="n">ListTypeEnum</span>
                <span class="p">,</span> <span class="n">Description</span><span class="p">:</span> <span class="nb">str</span>
                <span class="p">,</span> <span class="n">LastUpdated</span><span class="p">:</span> <span class="n">datetime</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;DB_ToDoListInsertReturning&#39;</span><span class="p">]:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">process_bind_params</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SmallInteger</span><span class="p">,</span>
                                               <span class="n">db_types</span><span class="o">.</span><span class="n">NonNullableString</span><span class="p">,</span>
                                               <span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span>
                                               <span class="p">],</span> <span class="p">[</span><span class="n">ListName</span><span class="p">,</span>
                                                   <span class="n">ListType</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ListType</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">)</span> <span class="k">else</span> <span class="n">ListType</span><span class="p">,</span>
                                                   <span class="n">Description</span><span class="p">,</span>
                                                   <span class="n">LastUpdated</span><span class="p">,</span>
                                                   <span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_statement</span><span class="p">(</span><span class="o">*</span><span class="n">params</span><span class="p">))</span>
        <span class="n">rec</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rec</span><span class="p">:</span>
            <span class="n">res</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">process_result_rec</span><span class="p">(</span><span class="n">DB_ToDoListInsertReturning</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="p">[</span><span class="n">sa</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span>
                                                                            <span class="p">],</span> <span class="n">rec</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
<p>Now this is a lot more interesting. We are declaring a class called <strong>DB_ToDoListInsertReturning</strong>, but it has several 
member fields and methods.  </p>
<p>The first thing we notice, is that on <strong>line 23-29</strong>, we generate an Enum called ListTypeEnum. Remember how when we
created the SI file, we created the field ListType as a SHORT, but we specified that we wanted an enum with two value, 
"Public" and "Private"? The SQLAlchemy generator picked that up, and generated an enum for us, to use in our code. 
For more information about enums, see &lt; TODO &gt;.</p>
<p>Next, on <strong>line 32-33</strong> we specify that this class has an <strong>OUTPUT</strong> member ID. In JPortal2, database operations can 
have INPUT and/or OUTPUT fields. Input fields are obviously fields you pass into the class, before it interacts with 
the database. Output fields are fields we want to get back from the database.</p>
<p>In this case, remember we specified that we wanted JPortal to create an Insert function for us, specifically 
an <em>Insert Returning</em>, which would return the Primary Key after inserting? In this table, ID is the primary key, 
so the Insert Returning must return the ID field for us.</p>
<p>Let's move on the rest of the file.  </p>
<p><strong>Line 35-74</strong> is a method called get_statement. If you look over the code, you will see it basically creates an inline 
SQL statement that allows you to insert an entire ToDoList record. Most of it is probably very straightforward, 
but you may be confused by the lines that contain "_ret.". Don't worry about it too much. For now, just accept that 
this is required because different databases like Postgres, SQLServer, Oracle, DB/2 etc. all have slightly varying 
syntaxes, and this allows us to cater for differences at runtime.</p>
<p>Finally, we get to <strong>line 97-98</strong>. This is a method called execute(), which does exactly what it says, it executes 
the query defined above in get_statement, and reads back the inserted ID field that was returned.</p>
<p>We aren't going to go through the the remainder of the generated code, because it is all essentially a repetition of 
<strong>lines 20-98</strong>, albeit for the other built-in queries we wanted, i.e. Update, SelectOne, DeleteOne and finally 
SelectAll.</p>
<h2 id="interact-with-our-database-using-python">Interact with our database using Python<a class="headerlink" href="#interact-with-our-database-using-python" title="Permanent link">&para;</a></h2>
<p>Now that we have our Data Access Layer (DAL) defined, let's write a quick python program to use is.</p>
<p>Create a file called <code>python/jportal_example.py</code>. Your folder structure should now look like this:
<div class="highlight"><pre><span></span><code>jportal2-demo
└───.vscode
    └── settings.json
└───sql
    └───si
        └── todolist.si
└───python
    └── jportal_example.py
</code></pre></div></p>
<h3 id="selectall">SelectAll<a class="headerlink" href="#selectall" title="Permanent link">&para;</a></h3>
<p>Paste the following code into the file:<br />
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">jportal</span> <span class="kn">import</span> <span class="n">sqlalchemy</span> <span class="k">as</span> <span class="n">jportal</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+psycopg2://postgres:magic_password@localhost/postgres&quot;</span><span class="p">)</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Select All</span>
<span class="k">def</span> <span class="nf">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">recs</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListSelectAll</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ID</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListName: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListType: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListType</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Description: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">Description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;***&quot;</span><span class="p">)</span>


<span class="n">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span> <span class="c1">#For the demo, normally you&#39;d call session.commit() here</span>
</code></pre></div></td></tr></table></div></p>
<p>Let's look at it piece by piece:<br />
<strong>Line 1-5</strong> simply imports the required modules.<br />
We import our generated code as <code>jportal</code>.<br />
Then we import sqlalchemy. SQLAlchemy is a popular ORM for Python. We actually don't like ORM's, we feel they add 
unnecessary complications to development. We feel that plain old SQL is far easier to read/write/debug and understand.<br />
That said, SQLAlchmey does some useful things, like connection pooling. So as a result, we use the SQLAlchemy session 
management as a base library, and build our generated classes on top of it.</p>
<p><strong>Line 7</strong> simply opens a SQLAlchemy connection to our postgres database. The username
and password are created when we start the docker container inside <code>start_postgres.sql</code>.  </p>
<p><strong>Line 11-20</strong> we create a simple function that calls our generated <code>SelectAll</code> function. <code>SelectAll</code> simply returns all
the records in a table. In reality, you almost never want to return all the records in a table unless it is a small
lookup table, but for our demo, <code>SelectAll</code> is useful.</p>
<p>On <strong>line 23</strong> we call the function we defined up top, and on <strong>line 24</strong> we simply rollback the SQLAlchemy connection
to avoid a warning when we exit the program.</p>
<p>Save the file. Assuming you are using our dev container repo, you can either press F5 to execute the program, or use
the normal VSCode run mechanism. If you are not using our dev container, you can run the code using 
<code>python jportal_example.py</code>, but bear in mind you will need to add the <code>generated_code/python/jportal</code> folder to the 
PYTHONPATH, and also install the requirements defined in <code>python/requirements.txt</code>. We are not going to talk through
that in this tutorial.</p>
<p>Once you run the example program, you should see the following output:
<div class="highlight"><pre><span></span><code>ID:<span class="w"> </span><span class="m">1</span>
ListName:<span class="w"> </span>Takeon<span class="w"> </span>Test<span class="w"> </span>List<span class="w"> </span><span class="m">1</span>
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Take<span class="w"> </span>on<span class="w"> </span><span class="nb">test</span><span class="w"> </span>list<span class="w"> </span>description
***
</code></pre></div></p>
<p>You might recognise this as the data we added in our SI file in the <code>SQLDATA</code> section, and which was inserted when we 
ran the <code>ExampleDatabase.sql</code> DDL script.</p>
<p>How easy was that?</p>
<h3 id="insert-returning_1">Insert Returning<a class="headerlink" href="#insert-returning_1" title="Permanent link">&para;</a></h3>
<p>Let's test the rest of the generated code. Change <code>jportal_example.py</code> to look like this:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PYTHONPATH=&quot;</span><span class="p">,</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">jportal</span> <span class="kn">import</span> <span class="n">sqlalchemy</span> <span class="k">as</span> <span class="n">jportal</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+psycopg2://postgres:magic_password@localhost/postgres&quot;</span><span class="p">)</span>



<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Select All</span>
<span class="k">def</span> <span class="nf">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">recs</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListSelectAll</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ID</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListName: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListType: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListType</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Description: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">Description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;***&quot;</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Insert Returning</span>
<span class="k">def</span> <span class="nf">insert_returning_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="c1">#Insert</span>
    <span class="n">tdl_ret</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> 
                                                        <span class="s2">&quot;New List&quot;</span><span class="p">,</span> 
                                                        <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="o">.</span><span class="n">Private</span><span class="p">,</span>
                                                        <span class="s2">&quot;Some Description&quot;</span><span class="p">,</span>
                                                        <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">tdl_ret</span>


<span class="n">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

<span class="n">tdl_ret</span> <span class="o">=</span> <span class="n">insert_returning_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added record </span><span class="si">{</span><span class="n">tdl_ret</span><span class="o">.</span><span class="n">ID</span><span class="si">}</span><span class="s2"> into ToDoList&quot;</span><span class="p">)</span>

<span class="n">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span> <span class="c1">#For the demo, normally you&#39;d call session.commit() here</span>
</code></pre></div></td></tr></table></div>
<p>On <strong>line 29</strong> we insert a new record into the ToDoList table:<br />
- We name the list "New List"<br />
- We set the ListType as "Private". Notice how we can use the generated enum to set this!<br />
- We add a simple description field.<br />
-  Finally we set the TMStamp field to the current time.  </p>
<p>Once we have done the insert, we call our select_all function again, to see the record we added.</p>
<p>Run the program again. Now the output should look something like this:
<div class="highlight"><pre><span></span><code>ID:<span class="w"> </span><span class="m">1</span>
ListName:<span class="w"> </span>Takeon<span class="w"> </span>Test<span class="w"> </span>List<span class="w"> </span><span class="m">1</span>
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Take<span class="w"> </span>on<span class="w"> </span><span class="nb">test</span><span class="w"> </span>list<span class="w"> </span>description
***
Added<span class="w"> </span>record<span class="w"> </span><span class="m">2</span><span class="w"> </span>into<span class="w"> </span>ToDoList
ID:<span class="w"> </span><span class="m">1</span>
ListName:<span class="w"> </span>Takeon<span class="w"> </span>Test<span class="w"> </span>List<span class="w"> </span><span class="m">1</span>
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Take<span class="w"> </span>on<span class="w"> </span><span class="nb">test</span><span class="w"> </span>list<span class="w"> </span>description
***
ID:<span class="w"> </span><span class="m">2</span>
ListName:<span class="w"> </span>New<span class="w"> </span>List
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Some<span class="w"> </span>Description
***
</code></pre></div></p>
<h3 id="selectone-and-update">SelectOne and Update<a class="headerlink" href="#selectone-and-update" title="Permanent link">&para;</a></h3>
<p>Finally, change the <code>jportal_example.py</code> file to look like this:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PYTHONPATH=&quot;</span><span class="p">,</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">jportal</span> <span class="kn">import</span> <span class="n">sqlalchemy</span> <span class="k">as</span> <span class="n">jportal</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">Session</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;postgresql+psycopg2://postgres:magic_password@localhost/postgres&quot;</span><span class="p">)</span>



<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Select All</span>
<span class="k">def</span> <span class="nf">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">recs</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListSelectAll</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ID</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListName: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListType: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListType</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Description: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">Description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;***&quot;</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Insert Returning</span>
<span class="k">def</span> <span class="nf">insert_returning_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="c1">#Insert</span>
    <span class="n">tdl_ret</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> 
                                                        <span class="s2">&quot;New List&quot;</span><span class="p">,</span> 
                                                        <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListInsertReturning</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="o">.</span><span class="n">Private</span><span class="p">,</span>
                                                        <span class="s2">&quot;Some Description&quot;</span><span class="p">,</span>
                                                        <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">tdl_ret</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Select One</span>
<span class="k">def</span> <span class="nf">select_one_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">rec</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListSelectOne</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListName: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ListType: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">ListType</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Description: </span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">Description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;***&quot;</span><span class="p">)</span>

<span class="c1">### ToDoList ###</span>
<span class="c1">#Select All</span>
<span class="k">def</span> <span class="nf">update_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="n">recs</span> <span class="o">=</span> <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListUpdate</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">session</span><span class="p">,</span>
                                                <span class="s2">&quot;Updated ListName&quot;</span><span class="p">,</span>
                                                <span class="n">jportal</span><span class="o">.</span><span class="n">DB_ToDoListUpdate</span><span class="o">.</span><span class="n">ListTypeEnum</span><span class="o">.</span><span class="n">Private</span><span class="p">,</span>
                                                <span class="s2">&quot;Updated description&quot;</span><span class="p">,</span>
                                                <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
                                                <span class="mi">1</span><span class="p">)</span>

<span class="n">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

<span class="n">tdl_ret</span> <span class="o">=</span> <span class="n">insert_returning_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added record </span><span class="si">{</span><span class="n">tdl_ret</span><span class="o">.</span><span class="n">ID</span><span class="si">}</span><span class="s2"> into ToDoList&quot;</span><span class="p">)</span>

<span class="n">select_one_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="n">update_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
<span class="n">select_all_from_todo_list</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>




<span class="n">session</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span> <span class="c1">#For the demo, normally you&#39;d call session.commit() here</span>
</code></pre></div></td></tr></table></div></p>
<p>Run it again. The output should look something like this now (the ID's might be slightly different depending on how 
many times you ran it, because of the behaviour of the SEQUENCE datatype):</p>
<div class="highlight"><pre><span></span><code>ListName:<span class="w"> </span>Takeon<span class="w"> </span>Test<span class="w"> </span>List<span class="w"> </span><span class="m">1</span>
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Take<span class="w"> </span>on<span class="w"> </span><span class="nb">test</span><span class="w"> </span>list<span class="w"> </span>description
***
ID:<span class="w"> </span><span class="m">5</span>
ListName:<span class="w"> </span>New<span class="w"> </span>List
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Some<span class="w"> </span>Description
***
ID:<span class="w"> </span><span class="m">1</span>
ListName:<span class="w"> </span>Updated<span class="w"> </span>ListName
ListType:<span class="w"> </span>ListTypeEnum.Private
Description:<span class="w"> </span>Updated<span class="w"> </span>description
***
</code></pre></div>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>At this point, take a step back and consider the power of JPortal2. If you look at our initial SI file, you will see that in 17 lines, we defined a database, a schema, a table with 5 fields, and a complex insert statement.
Using these 17 lines we generated nearly 20 lines of Postgres Specific DDL, and over a 100 lines of Python code. That is a huge amount of code you didn't need to write or think about.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.tabs.link", "navigation.top", "navigation.indexes", "navigation.instant", "search.highlight", "search.share", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a51614de.min.js"></script>
      
    
  </body>
</html>